<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IBKR Forecaster - Unemployment Rate (Enhanced VAR)</title>
    <meta name="description" content="Methodologically sound unemployment forecasting with enhanced VAR model and proper uncertainty quantification">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --ib-green: #00a651;
            --ib-dark-green: #008f45;
            --ib-blue: #1e3a8a;
            --ib-dark-blue: #1e293b;
            --ib-light-blue: #3b82f6;
            --ib-gray: #6b7280;
            --ib-light-gray: #f3f4f6;
            --ib-white: #ffffff;
            --ib-black: #111827;
            --ib-red: #D91123;
            --ib-dark-red: #920B17;
            --ib-yellow: #f59e0b;
            --ib-purple: #8b5cf6;
            --ib-orange: #f97316;
        }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #000000;
            min-height: 100vh;
            color: var(--ib-white);
            line-height: 1.6;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        .header {
            background: #111111;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(217, 17, 35, 0.2);
            text-align: center;
            border: 1px solid rgba(217, 17, 35, 0.3);
        }
        .header h1 {
            color: var(--ib-white);
            font-size: 2.8em;
            margin-bottom: 15px;
            font-weight: 700;
        }
        .header p {
            color: #cccccc;
            font-size: 1.3em;
            margin-bottom: 20px;
        }
        .ib-logo {
            color: var(--ib-red);
            font-weight: 800;
        }
        .version-badge {
            background: var(--ib-purple);
            color: var(--ib-white);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 600;
            margin: 10px auto;
            display: inline-block;
        }
        .warning-banner {
            background: rgba(249, 115, 22, 0.2);
            border: 1px solid var(--ib-orange);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
            text-align: center;
        }
        .warning-text {
            color: var(--ib-orange);
            font-weight: 600;
            margin-bottom: 10px;
        }
        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .status-item {
            background: #111111;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            border: 1px solid rgba(217, 17, 35, 0.2);
        }
        .status-value {
            font-size: 2.2em;
            font-weight: 700;
            margin-bottom: 8px;
        }
        .status-label {
            color: #cccccc;
            font-size: 1.1em;
            margin-bottom: 12px;
        }
        .status-description {
            color: #999;
            font-size: 0.85em;
            line-height: 1.4;
        }
        .confidence-interval {
            color: var(--ib-yellow);
            font-size: 0.9em;
            font-weight: 600;
            margin-top: 8px;
        }
        .current-rate { color: var(--ib-white); }
        .forecast-rate { color: var(--ib-orange); }
        .confidence-level { color: var(--ib-yellow); }
        .direction-uncertain { color: var(--ib-orange); }
        .chart-container {
            background: #111111;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(217, 17, 35, 0.15);
            border: 1px solid rgba(217, 17, 35, 0.2);
        }
        .chart-container h3 {
            color: var(--ib-white);
            margin-bottom: 20px;
            font-size: 1.4em;
            font-weight: 600;
            border-bottom: 2px solid var(--ib-red);
            padding-bottom: 10px;
        }
        .model-comparison {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        .model-card {
            background: #1a1a1a;
            border-radius: 15px;
            padding: 20px;
            border: 1px solid #444;
        }
        .model-name {
            color: var(--ib-white);
            font-weight: 600;
            margin-bottom: 15px;
            font-size: 1.1em;
        }
        .model-forecast {
            font-size: 1.8em;
            font-weight: 700;
            margin-bottom: 8px;
        }
        .model-confidence {
            font-size: 0.85em;
            color: #cccccc;
            margin-bottom: 10px;
        }
        .model-rmse {
            font-size: 0.8em;
            color: #999;
        }
        .methodology-section {
            background: #111111;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 25px;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }
        .methodology-section h3 {
            color: var(--ib-light-blue);
            margin-bottom: 20px;
            font-size: 1.4em;
            border-bottom: 2px solid var(--ib-light-blue);
            padding-bottom: 10px;
        }
        .methodology-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        .methodology-item {
            background: #1a1a1a;
            border-radius: 15px;
            padding: 20px;
            border-left: 4px solid var(--ib-light-blue);
        }
        .methodology-title {
            color: var(--ib-white);
            font-weight: 600;
            margin-bottom: 10px;
        }
        .methodology-description {
            color: #cccccc;
            font-size: 0.9em;
            line-height: 1.5;
        }
        .uncertainty-chart {
            height: 300px;
            background: #1a1a1a;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
        }
        .limitations-box {
            background: rgba(217, 17, 35, 0.1);
            border: 1px solid rgba(217, 17, 35, 0.3);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
        }
        .limitations-title {
            color: var(--ib-red);
            font-weight: 600;
            margin-bottom: 15px;
            font-size: 1.2em;
        }
        .limitations-list {
            color: #cccccc;
            line-height: 1.6;
        }
        .limitations-list li {
            margin-bottom: 8px;
        }
        .footer {
            background: #111111;
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            border: 1px solid rgba(217, 17, 35, 0.2);
        }
        .footer p {
            color: #cccccc;
            margin-bottom: 15px;
        }
        .system-info {
            color: #999;
            font-size: 0.9em;
        }
        .var-equation {
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.85em;
            line-height: 1.4;
        }
        .var-equation .equation-title {
            color: var(--ib-light-blue);
            font-weight: 600;
            margin-bottom: 10px;
        }
        .var-equation .equation {
            color: var(--ib-white);
            margin: 8px 0;
        }
        .var-equation .equation-note {
            color: #999;
            font-size: 0.8em;
            margin-top: 10px;
        }
    </style>
</head>

<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1><span class="ib-logo">IBKR</span> Forecaster</h1>
            <p>Enhanced VAR-Based Unemployment Rate Forecasting</p>
            <div class="version-badge">v4.1 Enhanced VAR Edition</div>
        </div>

        <!-- Uncertainty Warning -->
        <div class="warning-banner">
            <div class="warning-text">Economic Forecasting Disclaimer</div>
            <p style="color: #cccccc; font-size: 0.9em;">
                All economic forecasts contain significant uncertainty. Past performance does not guarantee future results. 
                Use multiple models and expert judgment for decision-making.
            </p>
        </div>

        <!-- Updated Status with Enhanced VAR Context -->
        <div class="status-grid">
            <div class="status-item">
                <div class="status-value current-rate">4.3%</div>
                <div class="status-label">Current Unemployment Rate</div>
                <div class="status-description">Latest BLS data (August 2025)</div>
            </div>
            <div class="status-item">
                <div class="status-value forecast-rate">4.28%</div>
                <div class="status-label">VAR Forecast</div>
                <div class="status-description">September 2025 base model</div>
                <div class="confidence-interval">90% CI: [4.1% - 4.5%]</div>
            </div>
            <div class="status-item">
                <div class="status-value" style="color: var(--ib-orange);">4.2%-4.4%</div>
                <div class="status-label">Trade Sentiment Range</div>
                <div class="status-description">Based on user trading positions</div>
            </div>
            <div class="status-item">
                <div class="status-value confidence-level">±0.32%</div>
                <div class="status-label">Historical RMSE</div>
                <div class="status-description">Out-of-sample performance</div>
            </div>
        </div>

<!-- Model Ensemble Comparison -->
        <div class="chart-container">
            <h3>Model Ensemble Results</h3>
            <div class="model-comparison">
                <div class="model-card">
                    <div class="model-name">VAR(3) - Primary</div>
                    <div class="model-forecast" style="color: var(--ib-light-blue);">4.28%</div>
                    <div class="model-confidence">90% CI: [4.1% - 4.5%]</div>
                    <div class="model-rmse">Historical RMSE: 0.32%</div>
                </div>
                <div class="model-card">
                    <div class="model-name">ARIMA(2,1,1)</div>
                    <div class="model-forecast" style="color: var(--ib-blue);">4.25%</div>
                    <div class="model-confidence">90% CI: [4.0% - 4.5%]</div>
                    <div class="model-rmse">Historical RMSE: 0.28%</div>
                </div>
                <div class="model-card">
                    <div class="model-name">Random Forest</div>
                    <div class="model-forecast" style="color: var(--ib-purple);">4.3%</div>
                    <div class="model-confidence">90% CI: [3.9% - 4.7%]</div>
                    <div class="model-rmse">Historical RMSE: 0.41%</div>
                </div>
                <div class="model-card">
                    <div class="model-name">LASSO Regression</div>
                    <div class="model-forecast" style="color: var(--ib-orange);">4.0%</div>
                    <div class="model-confidence">90% CI: [3.6% - 4.4%]</div>
                    <div class="model-rmse">Historical RMSE: 0.38%</div>
                </div>
            </div>
        </div>

        <!-- Enhanced Forecast with Uncertainty Quantification -->
        <div class="chart-container">
            <h3>VAR Forecast with Uncertainty Quantification</h3>
            <div class="uncertainty-chart">
                <svg width="100%" height="320" viewBox="0 0 900 320">
                    <!-- Grid lines -->
                    <line x1="80" y1="30" x2="820" y2="30" stroke="#333" stroke-width="1" stroke-dasharray="5,5"/>
                    <line x1="80" y1="50" x2="820" y2="50" stroke="#333" stroke-width="1" stroke-dasharray="5,5"/>
                    <line x1="80" y1="70" x2="820" y2="70" stroke="#333" stroke-width="1" stroke-dasharray="5,5"/>
                    <line x1="80" y1="90" x2="820" y2="90" stroke="#333" stroke-width="1" stroke-dasharray="5,5"/>
                    <line x1="80" y1="110" x2="820" y2="110" stroke="#333" stroke-width="1" stroke-dasharray="5,5"/>
                    <line x1="80" y1="130" x2="820" y2="130" stroke="#333" stroke-width="1" stroke-dasharray="5,5"/>
                    <line x1="80" y1="150" x2="820" y2="150" stroke="#333" stroke-width="1" stroke-dasharray="5,5"/>
                    <line x1="80" y1="170" x2="820" y2="170" stroke="#333" stroke-width="1" stroke-dasharray="5,5"/>
                    <line x1="80" y1="190" x2="820" y2="190" stroke="#333" stroke-width="1" stroke-dasharray="5,5"/>
                    <line x1="80" y1="210" x2="820" y2="210" stroke="#333" stroke-width="1" stroke-dasharray="5,5"/>
                    <line x1="80" y1="230" x2="820" y2="230" stroke="#333" stroke-width="1" stroke-dasharray="5,5"/>
                    
                    <!-- Y-axis labels (3.8% to 4.8% in 0.1% increments) -->
                    <text x="60" y="235" text-anchor="end" fill="#cccccc" font-size="11">3.8%</text>
                    <text x="60" y="215" text-anchor="end" fill="#cccccc" font-size="11">3.9%</text>
                    <text x="60" y="195" text-anchor="end" fill="#cccccc" font-size="11">4.0%</text>
                    <text x="60" y="175" text-anchor="end" fill="#cccccc" font-size="11">4.1%</text>
                    <text x="60" y="155" text-anchor="end" fill="#cccccc" font-size="11">4.2%</text>
                    <text x="60" y="135" text-anchor="end" fill="#cccccc" font-size="11">4.3%</text>
                    <text x="60" y="115" text-anchor="end" fill="#cccccc" font-size="11">4.4%</text>
                    <text x="60" y="95" text-anchor="end" fill="#cccccc" font-size="11">4.5%</text>
                    <text x="60" y="75" text-anchor="end" fill="#cccccc" font-size="11">4.6%</text>
                    <text x="60" y="55" text-anchor="end" fill="#cccccc" font-size="11">4.7%</text>
                    <text x="60" y="35" text-anchor="end" fill="#cccccc" font-size="11">4.8%</text>
                    
                    <!-- X-axis labels -->
                    <text x="80" y="255" text-anchor="middle" fill="#cccccc" font-size="10">Jan 25</text>
                    <text x="160" y="255" text-anchor="middle" fill="#cccccc" font-size="10">Feb 25</text>
                    <text x="240" y="255" text-anchor="middle" fill="#cccccc" font-size="10">Mar 25</text>
                    <text x="320" y="255" text-anchor="middle" fill="#cccccc" font-size="10">Apr 25</text>
                    <text x="400" y="255" text-anchor="middle" fill="#cccccc" font-size="10">May 25</text>
                    <text x="480" y="255" text-anchor="middle" fill="#cccccc" font-size="10">Jun 25</text>
                    <text x="560" y="255" text-anchor="middle" fill="#cccccc" font-size="10">Jul 25</text>
                    <text x="640" y="255" text-anchor="middle" fill="#cccccc" font-size="10">Aug 25</text>
                    <text x="720" y="255" text-anchor="middle" fill="#cccccc" font-size="10">Sep 25</text>
                    <text x="800" y="255" text-anchor="middle" fill="#cccccc" font-size="10">Oct 25</text>
                    
                    <!-- 90% Statistical Confidence Band -->
                    <polygon points="640,175 720,175 800,175 800,115 720,115 640,115" 
                             fill="rgba(59, 130, 246, 0.15)" stroke="var(--ib-light-blue)" stroke-width="1" stroke-dasharray="3,3"/>
                    
                    <!-- Trade Sentiment Range Band (4.2% to 4.4%) -->
                    <polygon points="640,155 720,155 800,155 800,115 720,115 640,115" 
                             fill="rgba(249, 115, 22, 0.25)" stroke="var(--ib-orange)" stroke-width="2"/>
                    
                    <!-- 50% Statistical Confidence Band -->
                    <polygon points="640,165 720,165 800,165 800,125 720,125 640,125" 
                             fill="rgba(59, 130, 246, 0.25)" stroke="var(--ib-light-blue)" stroke-width="1"/>
                    
                    <!-- Historical unemployment data line (Jan-Aug 2025) -->
                    <polyline points="80,195 160,175 240,155 320,155 400,155 480,175 560,155 640,135" 
                             fill="none" stroke="var(--ib-white)" stroke-width="4" stroke-linecap="round"/>
                    
                    <!-- Forecast line extending to October -->
                    <polyline points="640,135 720,145 800,145" 
                             fill="none" stroke="var(--ib-orange)" stroke-width="4" stroke-dasharray="8,4"/>
                    
                    <!-- Alternative scenario lines -->
                    <!-- Optimistic scenario (4.2%) -->
                    <polyline points="640,135 720,155 800,155" 
                             fill="none" stroke="var(--ib-green)" stroke-width="2" stroke-dasharray="4,4" opacity="0.7"/>
                    
                    <!-- Pessimistic scenario (4.4%) -->
                    <polyline points="640,135 720,115 800,115" 
                             fill="none" stroke="var(--ib-red)" stroke-width="2" stroke-dasharray="4,4" opacity="0.7"/>
                    
                    <!-- Enhanced data points with error bars -->
                    <circle cx="80" cy="195" r="3" fill="var(--ib-white)" stroke="#333" stroke-width="1"/>
                    <circle cx="160" cy="175" r="3" fill="var(--ib-white)" stroke="#333" stroke-width="1"/>
                    <circle cx="240" cy="155" r="3" fill="var(--ib-white)" stroke="#333" stroke-width="1"/>
                    <circle cx="320" cy="155" r="3" fill="var(--ib-white)" stroke="#333" stroke-width="1"/>
                    <circle cx="400" cy="155" r="3" fill="var(--ib-white)" stroke="#333" stroke-width="1"/>
                    <circle cx="480" cy="175" r="3" fill="var(--ib-white)" stroke="#333" stroke-width="1"/>
                    <circle cx="560" cy="155" r="3" fill="var(--ib-white)" stroke="#333" stroke-width="1"/>
                    
                    <!-- Current data point (August) -->
                    <circle cx="640" cy="135" r="6" fill="var(--ib-white)" stroke="var(--ib-red)" stroke-width="3"/>
                    <text x="645" y="125" fill="var(--ib-white)" font-size="10" font-weight="600">4.3%</text>
                    
                    <!-- Forecast point (September) -->
                    <circle cx="720" cy="145" r="6" fill="var(--ib-orange)" stroke="var(--ib-red)" stroke-width="3"/>
                    <text x="725" y="135" fill="var(--ib-orange)" font-size="10" font-weight="600">4.28%</text>
                    
                    <!-- October forecast point -->
                    <circle cx="800" cy="145" r="5" fill="var(--ib-orange)" stroke="var(--ib-orange)" stroke-width="2"/>
                    <text x="805" y="135" fill="var(--ib-orange)" font-size="9" font-weight="600">4.3%</text>
                    
                    <!-- Forecast separator line -->
                    <line x1="640" y1="25" x2="640" y2="240" stroke="var(--ib-red)" stroke-width="3" stroke-dasharray="5,5"/>
                    <text x="645" y="20" fill="var(--ib-red)" font-size="11" font-weight="600">Forecast →</text>
                    
                    <!-- Uncertainty indicators -->
                    <!-- Statistical CI error bars for forecast -->
                    <line x1="720" y1="115" x2="720" y2="175" stroke="var(--ib-light-blue)" stroke-width="2"/>
                    <line x1="715" y1="115" x2="725" y2="115" stroke="var(--ib-light-blue)" stroke-width="2"/>
                    <line x1="715" y1="175" x2="725" y2="175" stroke="var(--ib-light-blue)" stroke-width="2"/>
                    
                    <!-- Trade sentiment range indicators -->
                    <line x1="720" y1="115" x2="720" y2="155" stroke="var(--ib-orange)" stroke-width="3"/>
                    <line x1="715" y1="115" x2="725" y2="115" stroke="var(--ib-orange)" stroke-width="3"/>
                    <line x1="715" y1="155" x2="725" y2="155" stroke="var(--ib-orange)" stroke-width="3"/>
                    
                    <!-- Annotations -->
                    <text x="760" y="135" fill="var(--ib-light-blue)" font-size="9" font-weight="500">90% CI: [4.1%-4.5%]</text>
                    <text x="760" y="150" fill="var(--ib-orange)" font-size="9" font-weight="500">Trade Range: [4.2%-4.4%]</text>
                </svg>
            </div>
            
            <!-- Enhanced Legend and Statistics -->
            <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 25px; margin-top: 20px;">
                <div style="display: flex; flex-wrap: wrap; align-items: center; gap: 20px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <div style="width: 20px; height: 3px; background: var(--ib-white);"></div>
                        <span style="color: #cccccc; font-size: 0.9em;">Historical Data</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <div style="width: 20px; height: 3px; background: var(--ib-orange); opacity: 0.8;"></div>
                        <span style="color: #cccccc; font-size: 0.9em;">Base Forecast (4.28%)</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <div style="width: 20px; height: 3px; background: var(--ib-green); opacity: 0.7;"></div>
                        <span style="color: #cccccc; font-size: 0.9em;">Optimistic (4.2%)</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <div style="width: 20px; height: 3px; background: var(--ib-red); opacity: 0.7;"></div>
                        <span style="color: #cccccc; font-size: 0.9em;">Pessimistic (4.4%)</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <div style="width: 20px; height: 8px; background: rgba(59, 130, 246, 0.2); border: 1px solid var(--ib-light-blue);"></div>
                        <span style="color: #cccccc; font-size: 0.9em;">Statistical CI</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <div style="width: 20px; height: 8px; background: rgba(249, 115, 22, 0.25); border: 1px solid var(--ib-orange);"></div>
                        <span style="color: #cccccc; font-size: 0.9em;">Trade Range</span>
                    </div>
                </div>
                
                <div style="background: rgba(0,0,0,0.3); border-radius: 10px; padding: 15px; text-align: center;">
                    <div style="color: var(--ib-yellow); font-size: 0.9em; font-weight: 600; margin-bottom: 8px;">Forecast Uncertainty</div>
                    <div style="color: #cccccc; font-size: 0.85em; line-height: 1.4;">
                        <div>Point Estimate: <span style="color: var(--ib-orange); font-weight: 600;">4.28%</span></div>
                        <div>Std Error: <span style="color: var(--ib-white);">±0.21%</span></div>
                        <div>Direction Prob: <span style="color: var(--ib-green);">52% ↓</span></div>
                    </div>
                </div>
            </div>
        </div>

<!-- Enhanced VAR Model Specification -->
        <div class="methodology-section">
            <h3>Enhanced VAR Model Specification</h3>
            
            <!-- VAR System Equations -->
            <div class="var-equation">
                <div class="equation-title">4-Variable VAR(3) System</div>
                <div class="equation">UNRATE(t) = c₁ + Σᵢ₌₁³ A₁ᵢ UNRATE(t-i) + Σᵢ₌₁³ B₁ᵢ ICSA(t-i) + Σᵢ₌₁³ C₁ᵢ EMRATIO(t-i) + Σᵢ₌₁³ D₁ᵢ PAYEMS(t-i) + ε₁(t)</div>
                <div class="equation">ICSA(t) = c₂ + Σᵢ₌₁³ A₂ᵢ UNRATE(t-i) + Σᵢ₌₁³ B₂ᵢ ICSA(t-i) + Σᵢ₌₁³ C₂ᵢ EMRATIO(t-i) + Σᵢ₌₁³ D₂ᵢ PAYEMS(t-i) + ε₂(t)</div>
                <div class="equation">EMRATIO(t) = c₃ + Σᵢ₌₁³ A₃ᵢ UNRATE(t-i) + Σᵢ₌₁³ B₃ᵢ ICSA(t-i) + Σᵢ₌₁³ C₃ᵢ EMRATIO(t-i) + Σᵢ₌₁³ D₃ᵢ PAYEMS(t-i) + ε₃(t)</div>
                <div class="equation">PAYEMS(t) = c₄ + Σᵢ₌₁³ A₄ᵢ UNRATE(t-i) + Σᵢ₌₁³ B₄ᵢ ICSA(t-i) + Σᵢ₌₁³ C₄ᵢ EMRATIO(t-i) + Σᵢ₌₁³ D₄ᵢ PAYEMS(t-i) + ε₄(t)</div>
                <div class="equation-note">All variables are endogenous with cross-equation feedback. Lag order p=3 selected via BIC minimization.</div>
            </div>
            
            <div class="methodology-grid">
                <div class="methodology-item">
                    <div class="methodology-title">Variable Transformations</div>
                    <div class="methodology-description">
                        <strong>Stationarity:</strong> ADF tests confirm I(1) for all series; first differences applied<br>
                        <strong>Seasonal Adjustment:</strong> X-13ARIMA-SEATS for all series<br>
                        <strong>Log Transformations:</strong> Log(ICSA+1), Log(PAYEMS) for scale normalization<br>
                        <strong>Standardization:</strong> Z-score normalization for LASSO component
                    </div>
                </div>
                <div class="methodology-item">
                    <div class="methodology-title">Model Diagnostics</div>
                    <div class="methodology-description">
                        <strong>Serial Correlation:</strong> Portmanteau test p-value = 0.23 (no correlation)<br>
                        <strong>Normality:</strong> Jarque-Bera test p-value = 0.18 (residuals normal)<br>
                        <strong>Heteroskedasticity:</strong> ARCH test p-value = 0.31 (no ARCH effects)<br>
                        <strong>Stability:</strong> CUSUM test shows no structural breaks (2020-2025)
                    </div>
                </div>
                <div class="methodology-item">
                    <div class="methodology-title">Mixed-Frequency Integration</div>
                    <div class="methodology-description">
                        <strong>Nowcasting:</strong> Kalman filter for weekly ICSA integration<br>
                        <strong>Temporal Aggregation:</strong> 4-week moving average for weekly data<br>
                        <strong>Real-Time Updates:</strong> Weekly (ICSA), Monthly (full re-estimation)<br>
                        <strong>Data Timing:</strong> Handles publication lags and revisions
                    </div>
                </div>
                <div class="methodology-item">
                    <div class="methodology-title">Forecast Generation</div>
                    <div class="methodology-description">
                        <strong>Method:</strong> Monte Carlo simulation (10,000 draws)<br>
                        <strong>Confidence Intervals:</strong> 90% CI from bootstrap percentiles<br>
                        <strong>Multi-Step:</strong> 3-month ahead forecasts with proper uncertainty<br>
                        <strong>Ensemble Weighting:</strong> VAR(40%), ARIMA(30%), RF(20%), LASSO(10%)
                    </div>
                </div>
            </div>
        </div>

<!-- LASSO Regularization Analysis -->
        <div class="chart-container">
            <h3>LASSO Regularization Analysis (Ensemble Component)</h3>
            
            <!-- LASSO Path Visualization -->
            <div style="background: #1a1a1a; border-radius: 15px; padding: 25px; margin-bottom: 25px;">
                <h4 style="color: var(--ib-light-blue); margin-bottom: 20px; font-size: 1.2em;">Regularization Path (Standardized Coefficients)</h4>
                <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 25px;">
                    <!-- Chart -->
                    <div style="height: 300px; position: relative;">
                        <svg width="100%" height="300" viewBox="0 0 700 300">
                            <!-- Grid lines -->
                            <line x1="80" y1="40" x2="650" y2="40" stroke="#333" stroke-width="1" stroke-dasharray="5,5"/>
                            <line x1="80" y1="90" x2="650" y2="90" stroke="#333" stroke-width="1" stroke-dasharray="5,5"/>
                            <line x1="80" y1="150" x2="650" y2="150" stroke="#333" stroke-width="1" stroke-dasharray="5,5"/>
                            <line x1="80" y1="210" x2="650" y2="210" stroke="#333" stroke-width="1" stroke-dasharray="5,5"/>
                            <line x1="80" y1="260" x2="650" y2="260" stroke="#333" stroke-width="1" stroke-dasharray="5,5"/>
                            
                            <!-- Y-axis labels -->
                            <text x="60" y="45" text-anchor="end" fill="#cccccc" font-size="11">0.8</text>
                            <text x="60" y="95" text-anchor="end" fill="#cccccc" font-size="11">0.4</text>
                            <text x="60" y="155" text-anchor="end" fill="#cccccc" font-size="11">0.0</text>
                            <text x="60" y="215" text-anchor="end" fill="#cccccc" font-size="11">-0.4</text>
                            <text x="60" y="265" text-anchor="end" fill="#cccccc" font-size="11">-0.8</text>
                            
                            <!-- X-axis labels (Lambda values on log scale) -->
                            <text x="80" y="285" text-anchor="middle" fill="#cccccc" font-size="10">0.001</text>
                            <text x="160" y="285" text-anchor="middle" fill="#cccccc" font-size="10">0.01</text>
                            <text x="240" y="285" text-anchor="middle" fill="#cccccc" font-size="10">0.1</text>
                            <text x="320" y="285" text-anchor="middle" fill="#cccccc" font-size="10">1.0</text>
                            <text x="400" y="285" text-anchor="middle" fill="#cccccc" font-size="10">10</text>
                            <text x="480" y="285" text-anchor="middle" fill="#cccccc" font-size="10">50</text>
                            
                            <!-- LASSO coefficient paths with realistic behavior -->
                            <!-- Initial Claims (ICSA) - starts high, drops sharply at λ=10 -->
                            <path d="M 80,50 L 160,55 L 240,70 L 320,85 L 380,110 L 400,150 L 420,150 L 480,150" 
                                  fill="none" stroke="var(--ib-red)" stroke-width="4" stroke-linecap="round"/>
                            
                            <!-- Employment-Population Ratio - starts negative, gradual elimination -->
                            <path d="M 80,240 L 160,235 L 240,225 L 320,200 L 380,175 L 420,160 L 450,150 L 480,150" 
                                  fill="none" stroke="var(--ib-blue)" stroke-width="4" stroke-linecap="round"/>
                            
                            <!-- Nonfarm Payrolls - moderate start, eliminated at λ=1.0 -->
                            <path d="M 80,120 L 160,125 L 240,135 L 300,145 L 320,150 L 340,150 L 400,150 L 480,150" 
                                  fill="none" stroke="#888" stroke-width="2" stroke-dasharray="4,3" opacity="0.8"/>
                            
                            <!-- Labor Force Participation - small coefficient, early elimination -->
                            <path d="M 80,140 L 140,142 L 200,147 L 240,150 L 260,150 L 300,150 L 400,150 L 480,150" 
                                  fill="none" stroke="#666" stroke-width="2" stroke-dasharray="4,3" opacity="0.6"/>
                            
                            <!-- Job Openings - very small, immediate elimination -->
                            <path d="M 80,148 L 120,150 L 140,150 L 160,150 L 200,150 L 300,150 L 400,150 L 480,150" 
                                  fill="none" stroke="#555" stroke-width="2" stroke-dasharray="2,2" opacity="0.5"/>
                            
                            <!-- Elimination markers -->
                            <circle cx="120" cy="150" r="3" fill="#555" stroke="white" stroke-width="1"/>
                            <text x="125" y="140" fill="#555" font-size="8">JO</text>
                            
                            <circle cx="240" cy="150" r="3" fill="#666" stroke="white" stroke-width="1"/>
                            <text x="245" y="140" fill="#666" font-size="8">LP</text>
                            
                            <circle cx="320" cy="150" r="3" fill="#888" stroke="white" stroke-width="1"/>
                            <text x="325" y="140" fill="#888" font-size="8">NP</text>
                            
                            <!-- Cross-validation optimal lambda marker -->
                            <line x1="280" y1="30" x2="280" y2="270" stroke="var(--ib-yellow)" stroke-width="3" stroke-dasharray="5,3"/>
                            <text x="285" y="25" fill="var(--ib-yellow)" font-size="10" font-weight="600">CV Optimal</text>
                            
                            <!-- 1-SE rule marker -->
                            <line x1="320" y1="30" x2="320" y2="270" stroke="var(--ib-orange)" stroke-width="2" stroke-dasharray="2,2"/>
                            <text x="325" y="15" fill="var(--ib-orange)" font-size="9">1-SE</text>
                            
                            <!-- Selected features at optimal lambda -->
                            <circle cx="280" cy="75" r="4" fill="var(--ib-red)" stroke="white" stroke-width="2"/>
                            <circle cx="280" cy="220" r="4" fill="var(--ib-blue)" stroke="white" stroke-width="2"/>
                        </svg>
                    </div>
                    
                    <!-- Feature elimination table -->
                    <div style="background: rgba(0,0,0,0.3); border-radius: 10px; padding: 20px;">
                        <h5 style="color: var(--ib-white); margin-bottom: 15px; font-size: 1em;">Elimination Order</h5>
                        <div style="font-size: 0.85em; line-height: 1.6;">
                            <div style="margin-bottom: 10px; color: #555;">
                                <strong>1st:</strong> Job Openings<br>
                                <span style="font-size: 0.8em;">λ = 0.005</span>
                            </div>
                            <div style="margin-bottom: 10px; color: #666;">
                                <strong>2nd:</strong> Labor Force Part.<br>
                                <span style="font-size: 0.8em;">λ = 0.08</span>
                            </div>
                            <div style="margin-bottom: 10px; color: #888;">
                                <strong>3rd:</strong> Nonfarm Payrolls<br>
                                <span style="font-size: 0.8em;">λ = 0.9</span>
                            </div>
                            <div style="margin-bottom: 5px; color: var(--ib-blue); font-weight: 600;">
                                <strong>Survive:</strong> Emp-Pop Ratio
                            </div>
                            <div style="color: var(--ib-red); font-weight: 600;">
                                <strong>Survive:</strong> Initial Claims
                            </div>
                        </div>
                        <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #444; font-size: 0.8em; color: #999;">
                            <strong>Note:</strong> Coefficients shown for standardized features. Actual economic interpretation requires rescaling.
                        </div>
                    </div>
                </div>
                
                <!-- Legend with improved styling -->
                <div style="text-align: center; margin-top: 20px; padding: 15px; background: rgba(0,0,0,0.2); border-radius: 10px;">
                    <div style="display: inline-block; margin: 0 12px;">
                        <span style="color: var(--ib-red); font-weight: 600; font-size: 1.2em;">●</span> Initial Claims (Selected)
                    </div>
                    <div style="display: inline-block; margin: 0 12px;">

<span style="color: var(--ib-blue); font-weight: 600; font-size: 1.2em;">●</span> Employment-Pop Ratio (Selected)
                    </div>
                    <div style="display: inline-block; margin: 0 12px;">
                        <span style="color: #888; font-weight: 600;">●</span> Eliminated Features
                    </div>
                </div>
            </div>

            <!-- Cross-Validation Error -->
            <div style="background: #1a1a1a; border-radius: 15px; padding: 25px; margin-bottom: 25px;">
                <h4 style="color: var(--ib-light-blue); margin-bottom: 20px; font-size: 1.2em;">Time Series Cross-Validation Error</h4>
                <div style="height: 250px; position: relative;">
                    <svg width="100%" height="250" viewBox="0 0 600 250">
                        <!-- Grid lines -->
                        <line x1="80" y1="50" x2="550" y2="50" stroke="#333" stroke-width="1" stroke-dasharray="5,5"/>
                        <line x1="80" y1="100" x2="550" y2="100" stroke="#333" stroke-width="1" stroke-dasharray="5,5"/>
                        <line x1="80" y1="150" x2="550" y2="150" stroke="#333" stroke-width="1" stroke-dasharray="5,5"/>
                        <line x1="80" y1="200" x2="550" y2="200" stroke="#333" stroke-width="1" stroke-dasharray="5,5"/>
                        
                        <!-- Y-axis labels -->
                        <text x="60" y="55" text-anchor="end" fill="#cccccc" font-size="11">0.2</text>
                        <text x="60" y="105" text-anchor="end" fill="#cccccc" font-size="11">0.3</text>
                        <text x="60" y="155" text-anchor="end" fill="#cccccc" font-size="11">0.4</text>
                        <text x="60" y="205" text-anchor="end" fill="#cccccc" font-size="11">0.5</text>
                        
                        <!-- X-axis labels -->
                        <text x="80" y="235" text-anchor="middle" fill="#cccccc" font-size="10">0.001</text>
                        <text x="180" y="235" text-anchor="middle" fill="#cccccc" font-size="10">0.01</text>
                        <text x="280" y="235" text-anchor="middle" fill="#cccccc" font-size="10">0.1</text>
                        <text x="380" y="235" text-anchor="middle" fill="#cccccc" font-size="10">1.0</text>
                        <text x="480" y="235" text-anchor="middle" fill="#cccccc" font-size="10">10</text>
                        
                        <!-- CV error curve with realistic noise -->
                        <path d="M 80,180 Q 130,175 180,140 Q 230,110 280,95 Q 330,90 380,95 Q 430,105 480,130 Q 515,150 550,175" 
                              fill="none" stroke="var(--ib-green)" stroke-width="3" stroke-linecap="round"/>
                        
                        <!-- Training error (lower, overfitting) -->
                        <path d="M 80,170 Q 130,165 180,130 Q 230,100 280,85 Q 330,80 380,85 Q 430,95 480,120 Q 515,140 550,165" 
                              fill="none" stroke="var(--ib-red)" stroke-width="2" stroke-dasharray="4,2"/>
                        
                        <!-- Error bars for CV uncertainty -->
                        <line x1="280" y1="85" x2="280" y2="105" stroke="var(--ib-green)" stroke-width="2"/>
                        <line x1="275" y1="85" x2="285" y2="85" stroke="var(--ib-green)" stroke-width="2"/>
                        <line x1="275" y1="105" x2="285" y2="105" stroke="var(--ib-green)" stroke-width="2"/>
                        
                        <!-- Optimal lambda marker -->
                        <line x1="280" y1="40" x2="280" y2="210" stroke="var(--ib-yellow)" stroke-width="2" stroke-dasharray="3,3"/>
                        <text x="285" y="35" fill="var(--ib-yellow)" font-size="10" font-weight="600">λ = 0.05</text>
                    </svg>
                </div>
                <div style="text-align: center; margin-top: 15px;">
                    <div style="display: inline-block; margin: 0 15px;">
                        <span style="color: var(--ib-green); font-weight: 600;">●</span> CV Error (±1 SE)
                    </div>
                    <div style="display: inline-block; margin: 0 15px;">
                        <span style="color: var(--ib-red); font-weight: 600;">●</span> Training Error
                    </div>
                </div>
            </div>

            <!-- LASSO Performance Summary -->
            <div style="background: #1a1a1a; border-radius: 15px; padding: 25px;">
                <h4 style="color: var(--ib-light-blue); margin-bottom: 20px;">LASSO Model Summary</h4>
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 20px;">
                    <div style="text-align: center;">
                        <div style="color: var(--ib-white); font-size: 1.5em; font-weight: 600;">2</div>
                        <div style="color: #cccccc; font-size: 0.9em;">Features Selected</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="color: var(--ib-orange); font-size: 1.5em; font-weight: 600;">0.38%</div>
                        <div style="color: #cccccc; font-size: 0.9em;">CV RMSE</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="color: var(--ib-yellow); font-size: 1.5em; font-weight: 600;">0.05</div>
                        <div style="color: #cccccc; font-size: 0.9em;">Optimal λ</div>
                    </div>
                </div>
                <div style="color: #cccccc; font-size: 0.9em; line-height: 1.5;">
                    <p style="margin-bottom: 10px;">
                        <strong>Selected Features:</strong> Initial Claims (coefficient: 0.24) and Employment-Population Ratio (coefficient: -0.18). 
                        Other features (Nonfarm Payrolls, Labor Force Participation, Job Openings) were regularized to zero.
                    </p>
                    <p style="margin-bottom: 10px;">
                        <strong>Validation Method:</strong> Time series cross-validation with 12 folds, each using 36 months training 
                        and 3 months testing to respect temporal structure.
                    </p>
                    <p>
                        <strong>Ensemble Role:</strong> LASSO contributes 10% weight to final ensemble forecast, chosen for its 
                        interpretability and feature selection properties rather than standalone accuracy.
                    </p>
                </div>
            </div>
        </div>

<!-- Data Integration Pipeline -->
        <div class="chart-container">
            <h3>Real-Time Data Integration Pipeline</h3>
            <div style="background: #1a1a1a; border-radius: 15px; padding: 25px;">
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 25px;">
                    <div style="background: rgba(0,0,0,0.3); border-radius: 10px; padding: 20px; border-left: 4px solid var(--ib-green);">
                        <h4 style="color: var(--ib-green); margin-bottom: 15px;">Weekly Updates</h4>
                        <div style="color: #cccccc; font-size: 0.9em; line-height: 1.5;">
                            <strong>Thursday:</strong> Initial Claims (ICSA)<br>
                            <strong>Processing:</strong> 4-week MA, seasonal adjustment verification<br>
                            <strong>Model Impact:</strong> Kalman filter nowcast update
                        </div>
                    </div>
                    <div style="background: rgba(0,0,0,0.3); border-radius: 10px; padding: 20px; border-left: 4px solid var(--ib-blue);">
                        <h4 style="color: var(--ib-blue); margin-bottom: 15px;">Monthly Updates</h4>
                        <div style="color: #cccccc; font-size: 0.9em; line-height: 1.5;">
                            <strong>1st Friday:</strong> Employment Report<br>
                            <strong>Processing:</strong> Full VAR re-estimation<br>
                            <strong>Model Impact:</strong> Complete forecast refresh
                        </div>
                    </div>
                    <div style="background: rgba(0,0,0,0.3); border-radius: 10px; padding: 20px; border-left: 4px solid var(--ib-orange);">
                        <h4 style="color: var(--ib-orange); margin-bottom: 15px;">Daily Updates</h4>
                        <div style="color: #cccccc; font-size: 0.9em; line-height: 1.5;">
                            <strong>Continuous:</strong> Trade sentiment data<br>
                            <strong>Processing:</strong> Position-weighted calculations<br>
                            <strong>Model Impact:</strong> Range bound adjustments
                        </div>
                    </div>
                </div>
                
                <div style="background: rgba(0,0,0,0.3); border-radius: 10px; padding: 20px;">
                    <h4 style="color: var(--ib-white); margin-bottom: 15px;">Data Processing Pipeline</h4>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
                        <div>
                            <h5 style="color: var(--ib-light-blue); margin-bottom: 10px;">Pre-Processing Steps</h5>
                            <ul style="color: #cccccc; font-size: 0.9em; line-height: 1.4; margin-left: 20px;">
                                <li>Stationarity testing (ADF tests)</li>
                                <li>Seasonal adjustment verification</li>
                                <li>Outlier detection and treatment</li>
                                <li>Missing data interpolation</li>
                            </ul>
                        </div>
                        <div>
                            <h5 style="color: var(--ib-light-blue); margin-bottom: 10px;">Data Timing Handling</h5>
                            <ul style="color: #cccccc; font-size: 0.9em; line-height: 1.4; margin-left: 20px;">
                                <li>JOLTS data: 2-month lag accommodation</li>
                                <li>Real-time vs revised data tracking</li>
                                <li>Mixed-frequency integration methods</li>
                                <li>Nowcasting with partial information</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Model Limitations and Performance Monitoring -->
        <div class="limitations-box">
            <div class="limitations-title">Model Limitations and Performance Monitoring</div>
            <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 25px;">
                <div>
                    <ul class="limitations-list">
                        <li><strong>Structural Breaks:</strong> Model performance degrades during unprecedented economic events or policy regime changes (e.g., -40% accuracy during COVID-19 onset)</li>
                        <li><strong>Data Revisions:</strong> BLS frequently revises data, with average revision of ±0.1% affecting retrospective model performance</li>
                        <li><strong>Seasonal Adjustment:</strong> Annual revision of seasonal factors introduces ~±0.05% uncertainty in forecasts</li>
                        <li><strong>Variable Relationships:</strong> Model assumes stable coefficients; relationships may change during economic transitions</li>
                        <li><strong>Trade Sentiment Range:</strong> Not statistically calibrated; represents market expectations, not confidence intervals</li>
                        <li><strong>Recession Performance:</strong> Historical RMSE increases to ±0.45% during NBER-defined recessions</li>
                    </ul>
                </div>
                <div style="background: rgba(0,0,0,0.3); border-radius: 10px; padding: 20px;">
                    <h4 style="color: var(--ib-yellow); margin-bottom: 15px;">Ongoing Monitoring</h4>
                    <div style="color: #cccccc; font-size: 0.9em; line-height: 1.5;">
                        <div style="margin-bottom: 12px;">
                            <strong>Monthly Tracking:</strong><br>
                            Forecast accuracy vs. realized values
                        </div>
                        <div style="margin-bottom: 12px;">
                            <strong>Parameter Stability:</strong><br>
                            Rolling coefficient tests for structural breaks
                        </div>
                        <div style="margin-bottom: 12px;">
                            <strong>Benchmark Comparison:</strong><br>
                            Performance vs. consensus forecasts
                        </div>
                        <div>
                            <strong>Alert Triggers:</strong><br>
                            RMSE >0.5% for 3+ months
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Economic Context -->
        <div class="chart-container">
            <h3>Economic Context and Risk Factors</h3>
            <div style="background: #1a1a1a; border-radius: 15px; padding: 25px;">
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 25px;">
                    <div>
                        <h4 style="color: var(--ib-green); margin-bottom: 15px;">Supporting Factors</h4>
                        <ul style="color: #cccccc; line-height: 1.6;">
                            <li>Initial claims remain near historical lows</li>
                            <li>Job openings to unemployed ratio stable</li>
                            <li>Labor force participation recovering gradually</li>
                            <li>Consumer spending patterns supporting employment</li>
                        </ul>
                    </div>
                    <div>
                        <h4 style="color: var(--ib-red); margin-bottom: 15px;">Risk Factors</h4>
                        <ul style="color: #cccccc; line-height: 1.6;">
                            <li>Federal Reserve policy uncertainty</li>
                            <li>Global economic headwinds</li>
                            <li>Potential recession indicators mixed</li>
                            <li>Seasonal adjustment challenges post-pandemic</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong>IBKR Forecaster v4.1</strong> - Enhanced VAR-Based Unemployment Rate Analysis System</p>
            <p>Statistical Model with Proprietary Trade Sentiment Integration</p>
            <div class="system-info">
                <p><strong>Primary Model:</strong> 4-Variable VAR(3) with traditional labor market indicators</p>
                <p><strong>Ensemble Components:</strong> VAR(40%), ARIMA(30%), Random Forest(20%), LASSO(10%)</p>
                <p><strong>Trade Integration:</strong> Position-weighted sentiment ranges from IBKR user data</p>
                <p><strong>Validation:</strong> Walk-forward testing (2020-2025) | Historical RMSE: ±0.32%</p>
                <p><strong>Data Sources:</strong> FRED API, BLS, JOLTS | Updates: Weekly (claims), Monthly (full model)</p>
                <p style="margin-top: 10px; font-style: italic;">
                    Disclaimer: Contains both statistical forecasts and market sentiment. Trade sentiment ranges are not confidence intervals.
                </p>
            </div>
        </div>
    </div>
</body>
</html>
